var Person=function(){this.id=uuid.v4(),this.relationships={family:{id:"",parents:{father:{},mother:{}},spouse:{},siblings:{brothers:[],sisters:[],unknown:[]},spouses:[],children:[]},friends:[]},this.name={salutation:"",first:"",middle:"",last:{given:"",married:"",maiden:""},nickname:"",preferred_name:"",suffix:""},this.race="",this.birth={date:"",location:""},this.death={date:"",location:"",cause:""},this.height={feet:0,inches:0},this.weight={pounds:0,ounces:0},this.attributes={hair:{color:""},eyes:{color:""},handed:""},this.color="",this.hair="",this.eyes="",this.handed="",this.living=!0};Person.prototype.sayMyName=function(){return this.preferred_name?this.preferred_name:this.first_name},Person.prototype.howTall=function(){return parseInt(this.height.feet,10)+"' "+parseInt(this.height.inches,10)+'"'},Person.prototype.siblings=function(){for(var e=this.relationships.parents,r=this.relationships.siblings,n=e.father.id,t=e.mother.id,s={brothers:[],sisters:[],unknown:[]},a={brothers:[],sisters:[],unknown:[]},i=People.length,h=0,h=i-1;h>=0;h--){var o=People[h],l=o.id,p=o.father.id,u=o.mother.id,f=o.sex,d=self.id,m=self.father.id,g=self.mother.id,c=p===m,b=u===g,v="m"===f,_="f"===f,w=l===d;w||(c&&b&&(v?(console.log(o.preferred_name+" is a male. ===> brother"),r.brothers.push(o)):_?(console.log(o.preferred_name+" is a female. ===> sister"),r.sisters.push(o)):(console.log("We don't know whether or not "+o.preferred_name+" is a male or a female. ===> unknown"),r.unknown.push(o))),c&&!b&&(!!development&&console.log("paternal half sibling"),v?s.brothers.push(o):_?s.sisters.push(o):s.unknown.push(o)),!c&&b&&(!!development&&console.log("maternal half sibling"),v?a.brothers.push(o):_?a.sisters.push(o):a.unknown.push(o)))}if(s.brothers.length){var P=[];P.paternal_half_brothers=s.brothers,r.brothers.push(P)}if(s.sisters.length){var k=[];k.paternal_half_sisters=s.sisters,r.sisters.push(k)}if(s.unknown.length){var I=[];I.paternal_half_unknowns=s.unknown,r.unknown.push(I)}if(a.brothers.length){var y=[];y.maternal_half_brothers=a.brothers,r.brothers.push(y)}if(a.sisters.length){var x=[];x.maternal_half_sisters=a.sisters,r.sisters.push(x)}if(a.unknown.length){var M=[];M.maternal_half_unknowns=a.unknown,r.unknown.push(M)}if(r.brothers.length||r.sisters.length||r.unknown.length)return r},Person.prototype.parents=function(){for(var e={},r=!1,n=!1,t=People.length,s=0,s=t-1;s>=0;s--){var a=People[s];a.id===this.relationships.parents.father.id&&(r=!0,e.father=a),a.id===this.relationships.parents.mother.id&&(e.mother=a)}if(r&&n)return e},Person.prototype.grandparents=function(){var e=this,r,n,t={paternal:[],maternal:[]},s=this.relationships.parents.father.id,a=this.relationships.parents.mother.id,i=function(e){if(console.log("in getPaternalParents()"),"m"===e.sex){var r=e.relationships.parents.father.id,n=e.relationships.parents.mother.id,s=[],a=[];$.each(People,function(e,n){parseInt(n.id,10)===r?(s.paternal_grandfather=n,t.paternal.push(s)):parseInt(n.id,10)===pgmId&&(a.paternal_grandmother=n,t.paternal.push(a))})}else{var i=[],h=[];$.each(People,function(r,n){parseInt(n.id,10)===e.father?(i.maternal_grandfather=n,t.maternal.push(i)):parseInt(n.id,10)===e.mother&&(h.maternal_grandmother=n,t.maternal.push(h))})}};if($.each(People,function(e,r){parseInt(r.id,10)!==s&&parseInt(r.id,10)!==a||i(r)}),t.maternal.length||t.paternal.length)return t},Person.prototype.getChildren=function(){var e=this,r=[];if($.each(People,function(n,t){parseInt(t.mother,10)===parseInt(e.spouse.id,10)?r.push(t):parseInt(t.father,10)===parseInt(e.id,10)&&r.push(t)}),r.length)return r};var Woman=function(){var e=new Person;return e.sex="f",e},Man=function(){var e=new Person;return e.sex="m",e};